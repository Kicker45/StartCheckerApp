<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="StartCheckerApp.Views.FullListPage">


    <Grid RowDefinitions="Auto,*">
        <!-- Vlastní horní lišta -->
        <Grid BackgroundColor="Black" Padding="10,0,10,0" HeightRequest="50" >
            <Label x:Name="TimeLabel" FontSize="25" TextColor="White"
                   FontAttributes="Bold" HorizontalOptions="Start" VerticalOptions="Center"/>
            <Button Text="+" FontSize="35" TextColor="Black" FontAttributes="Bold" Padding="0"
                
                BackgroundColor="#4AF94F" Clicked="OnAddRunnerClicked"
                HorizontalOptions="End" VerticalOptions="Center"/>
        </Grid>

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="5" >
                <CollectionView x:Name="RunnersList" SelectionMode="Single" SelectionChanged="OnRunnerSelected" >
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Border Padding="5" Margin="2" BackgroundColor="#D9D9D9">
                                <Grid ColumnDefinitions="Auto,*,Auto,Auto" HorizontalOptions="Fill">

                                    <!-- Sloupec 1: SI Číslo -->
                                    <Label Grid.Column="0" Text="{Binding SINumber}" FontSize="24" FontAttributes="Bold" VerticalOptions="Center" HorizontalOptions="Start" MaximumWidthRequest="120" MinimumWidthRequest="100"/>

                                    <!-- Sloupec 2: Jméno a Příjmení -->
                                    <Label Grid.Column="1" Text="{Binding FullName}" FontSize="20" FontAttributes="Bold" VerticalOptions="Center" HorizontalOptions="Start" Margin="5,0,5,0"/>


                                    <!-- Sloupec 3: Kategorie + Registrační číslo -->
                                    <StackLayout Grid.Column="2" VerticalOptions="Center" HorizontalOptions="Center">
                                        <Label Text="{Binding Category}" FontSize="16" TextColor="Black" HorizontalOptions="End" FontAttributes="Bold"/>
                                        <Label Text="{Binding RegistrationNumber}" FontSize="16" TextColor="Black" FontAttributes="Bold"/>
                                    </StackLayout>

                                    <!-- Sloupec 4: Editační tlačítko -->
                                    <Button Grid.Column="3" Text="✏️" FontSize="20" BackgroundColor="Transparent"
                            Clicked="OnEditRunnerClicked" HorizontalOptions="End" Padding="0"/>

                                </Grid>
                            </Border>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
